<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Coastok Admin Panel</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../vendors/base/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="../../vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../assets/css/jquery-ui.min.css" />
    <link rel="stylesheet" href="../../assets/css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="../../assets/images/favicon.png" />
</head>

<body>
    <div class="container-scroller">
        <!-- partial:partials/_navbar.html -->
        <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="navbar-brand-wrapper d-flex justify-content-center">
                <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
                    <a class="navbar-brand brand-logo" href="index.html"><img src="../../assets/images/logo.png" alt="logo" /></a>
                    <a class="navbar-brand brand-logo-mini" href="index.html"><img src="../../assets/images/logo-mini.png" alt="logo" /></a>
                    <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
            <span class="mdi mdi-sort-variant"></span>
          </button>
                </div>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
                <ul class="navbar-nav mr-lg-4 w-100">
                    <li class="nav-item nav-search d-none d-lg-block w-100">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="search">
                  <i class="mdi mdi-magnify"></i>
                </span>
                            </div>
                            <input type="text" class="form-control" placeholder="Search now" aria-label="search" aria-describedby="search">
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav navbar-nav-right">
                    <!--          <li class="nav-item dropdown mr-1">-->
                    <!--            <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center" id="messageDropdown" href="#" data-toggle="dropdown">-->
                    <!--              <i class="mdi mdi-message-text mx-0"></i>-->
                    <!--              <span class="count"></span>-->
                    <!--            </a>-->
                    <!--            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="messageDropdown">-->
                    <!--              <p class="mb-0 font-weight-normal float-left dropdown-header">Messages</p>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                    <img src="../../assets/images/avatar-person.svg" alt="image" class="profile-pic">-->
                    <!--                </div>-->
                    <!--                <div class="item-content flex-grow">-->
                    <!--                  <h6 class="ellipsis font-weight-normal">David Grey-->
                    <!--                  </h6>-->
                    <!--                  <p class="font-weight-light small-text text-muted mb-0">-->
                    <!--                    The meeting is cancelled-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                    <img src="../../assets/images/avatar-person.svg" alt="image" class="profile-pic">-->
                    <!--                </div>-->
                    <!--                <div class="item-content flex-grow">-->
                    <!--                  <h6 class="ellipsis font-weight-normal">Tim Cook-->
                    <!--                  </h6>-->
                    <!--                  <p class="font-weight-light small-text text-muted mb-0">-->
                    <!--                    New product launch-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                    <img src="../../assets/images/avatar-person.svg" alt="image" class="profile-pic">-->
                    <!--                </div>-->
                    <!--                <div class="item-content flex-grow">-->
                    <!--                  <h6 class="ellipsis font-weight-normal"> Johnson-->
                    <!--                  </h6>-->
                    <!--                  <p class="font-weight-light small-text text-muted mb-0">-->
                    <!--                    Upcoming board meeting-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--            </div>-->
                    <!--          </li>-->
                    <!--          <li class="nav-item dropdown mr-4">-->
                    <!--            <a class="nav-link count-indicator dropdown-toggle d-flex align-items-center justify-content-center notification-dropdown" id="notificationDropdown" href="#" data-toggle="dropdown">-->
                    <!--              <i class="mdi mdi-bell mx-0"></i>-->
                    <!--              <span class="count"></span>-->
                    <!--            </a>-->
                    <!--            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="notificationDropdown">-->
                    <!--              <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                  <div class="item-icon bg-success">-->
                    <!--                    <i class="mdi mdi-information mx-0"></i>-->
                    <!--                  </div>-->
                    <!--                </div>-->
                    <!--                <div class="item-content">-->
                    <!--                  <h6 class="font-weight-normal">Application Error</h6>-->
                    <!--                  <p class="font-weight-light small-text mb-0 text-muted">-->
                    <!--                    Just now-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                  <div class="item-icon bg-warning">-->
                    <!--                    <i class="mdi mdi-settings mx-0"></i>-->
                    <!--                  </div>-->
                    <!--                </div>-->
                    <!--                <div class="item-content">-->
                    <!--                  <h6 class="font-weight-normal">Settings</h6>-->
                    <!--                  <p class="font-weight-light small-text mb-0 text-muted">-->
                    <!--                    Private message-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--              <a class="dropdown-item">-->
                    <!--                <div class="item-thumbnail">-->
                    <!--                  <div class="item-icon bg-info">-->
                    <!--                    <i class="mdi mdi-account-box mx-0"></i>-->
                    <!--                  </div>-->
                    <!--                </div>-->
                    <!--                <div class="item-content">-->
                    <!--                  <h6 class="font-weight-normal">New user registration</h6>-->
                    <!--                  <p class="font-weight-light small-text mb-0 text-muted">-->
                    <!--                    2 days ago-->
                    <!--                  </p>-->
                    <!--                </div>-->
                    <!--              </a>-->
                    <!--            </div>-->
                    <!--          </li>-->
                    <li class="nav-item nav-profile dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                            <img src="../../assets/images/avatar-person.svg" alt="profile" />
                            <div style="display: inline-block; vertical-align: middle;">
                                <div class="nav-profile-name">Unknown</div>
                                <div class="nav-profile-designation"></div>
                            </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" id="profileDropdownList" aria-labelledby="profileDropdown">
                            <a href="../../pages/resetPassword/" target="_blank" class="dropdown-item">
                                <i class="mdi mdi-settings text-primary"></i> Reset Password
                            </a>
                            <a class="dropdown-item" id="logoutBtn">
                                <i class="mdi mdi-logout text-primary"></i> Logout
                            </a>
                        </div>
                    </li>
                </ul>
                <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
          <span class="mdi mdi-menu"></span>
        </button>
            </div>
        </nav>
        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:partials/_sidebar.html -->
            <nav class="sidebar sidebar-offcanvas" id="sidebar">
                <ul class="nav">
                    <li id="dashboard-page" class="nav-item">
                        <a class="nav-link" href="../../pages/dashboard">
                            <i class="mdi mdi-home menu-icon"></i>
                            <span class="menu-title">Dashboard</span>
                        </a>
                    </li>
                    <li id="manage-area" class="nav-item">
                        <a class="nav-link" href="../../pages/area">
                            <i class="mdi mdi-image-area menu-icon"></i>
                            <span class="menu-title">Manage Area</span>
                        </a>
                    </li>
                    <li id="my-area" class="nav-item">
                        <a class="nav-link" href="../../pages/area/view">
                            <i class="mdi mdi-image-area menu-icon"></i>
                            <span class="menu-title">My Area</span>
                        </a>
                    </li>
                    <li id="question-page" class="nav-item">
                        <a class="nav-link" href="../../pages/answerQuestion?page=1&per_page=10">
                            <i class="mdi mdi-message-text menu-icon"></i>
                            <span class="menu-title">Answer Question</span>
                        </a>
                    </li>
                    <li id="user-page" class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#user-actions" aria-expanded="false" aria-controls="user-actions">
                            <i class="mdi mdi-account-settings menu-icon"></i>
                            <span class="menu-title">Manage User</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="user-actions">
                            <ul class="nav flex-column sub-menu">
                                <!-- <li class="nav-item"><a class="nav-link" href="../../pages/user">View Members</a></li> -->
                                <li class="nav-item"><a class="nav-link" href="../../pages/user/pending">Pending
                    Members</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="../../pages/user/update">All Members</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li id="static-page" class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#content-actions" aria-expanded="false" aria-controls="content-actions">
                            <i class="mdi mdi-arrow-up-bold-hexagon-outline menu-icon"></i>
                            <span class="menu-title">Manage Static Content</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="content-actions">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="../../pages/publish/audio.html">Audio</a></li>
                                <li class="nav-item"><a class="nav-link" href="../../pages/publish/video.html">Video</a></li>
                                <li class="nav-item"><a class="nav-link" href="../../pages/publish/images.html">Images</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
            <!-- partial -->
            <div class="main-panel">
                <div class="content-wrapper">
                    <div class="row">
                        <div class="col-md-12 grid-margin">
                            <div class="d-flex justify-content-between flex-wrap">
                                <div class="d-flex align-items-end flex-wrap">
                                    <div class="mr-md-3 mr-xl-5">
                                        <h2>Welcome back,</h2>
                                        <!-- <p class="mb-md-0">Your analytics dashboard template.</p> -->
                                    </div>
                                    <!-- <div class="d-flex">
                                        <i class="mdi mdi-home text-muted hover-cursor"></i>
                                        <p class="text-muted mb-0 hover-cursor">&nbsp;/&nbsp;Dashboard&nbsp;/&nbsp;</p>
                                        <p class="text-primary mb-0 hover-cursor">Analytics</p>
                                    </div> -->
                                </div>
                                <!-- <div class="d-flex justify-content-between align-items-end flex-wrap">
                                    <button type="button" class="btn btn-light bg-white btn-icon mr-3 d-none d-md-block ">
                    <i class="mdi mdi-download text-muted"></i>
                  </button>
                                    <button type="button" class="btn btn-light bg-white btn-icon mr-3 mt-2 mt-xl-0">
                    <i class="mdi mdi-clock-outline text-muted"></i>
                  </button>
                                    <button type="button" class="btn btn-light bg-white btn-icon mr-3 mt-2 mt-xl-0">
                    <i class="mdi mdi-plus text-muted"></i>
                  </button>
                                    <button class="btn btn-primary mt-2 mt-xl-0">Download report</button>
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-lg-4 form-group">
                            <select class="form-control form-control-md" id="areaSelect">
                              <option value="all">ALL</option>
                            </select>
                        </div>
                        <div class="col-md-4 col-lg-4 form-group">
                            <input id="from" class="form-control" placeholder="Start Date (YYYY-MM-DD)" />
                        </div>
                        <div class="col-md-4 col-lg-4">
                            <input id="to" class="form-control" placeholder="End Date (YYYY-MM-DD)" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-lg-4 form-group">
                            <input type="checkbox" name="no-date-bound">
                            <label for="no-date-bound">No Date Bound</label>
                        </div>
                        <div class="col-md-4 col-lg-4 form-group">
                            <button id="submit-data" class="btn btn-primary">Get Stats</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 grid-margin stretch-card">
                            <div class="card">
                                <div class="card-body dashboard-tabs p-0">
                                    <div class="tab-content py-0 px-0">
                                        <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                                            <div class="row">
                                                <div id="nonCoastokMemberCount" class="d-none d-xl-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-account-plus icon-lg mr-3 text-primary"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Connected Souls</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="coastokMemberCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-account-check mr-3 icon-lg text-danger"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Approved Members</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="frontLinerCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-account-switch mr-3 icon-lg text-success"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Frontliners</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="facilitatorCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-account-multiple mr-3 icon-lg text-warning"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Facilitators</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div id="areaLeaderCount" class="d-none d-xl-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-account-star icon-lg mr-3 text-primary"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Area Leaders assigned</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="assistantDirectorCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-assistant mr-3 icon-lg text-danger"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Assistant Directors</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="areaCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-image-filter-hdr mr-3 icon-lg text-warning"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Areas Covered</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div id="totalQuestionCount" class="d-none d-xl-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-comment-question-outline icon-lg mr-3 text-primary"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Total Questions Asked</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="answeredQuestionCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-comment-check-outline mr-3 icon-lg text-danger"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Total Queries Resolved</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                                <div id="unansweredQuestionCount" class="d-flex col-md-3 border-md-right flex-grow-1 align-items-center  p-3 item">
                                                    <i class="mdi mdi-comment-alert-outline mr-3 icon-lg text-success"></i>
                                                    <div class="d-flex flex-column justify-content-around">
                                                        <small class="mb-1 text-muted">Pending Questions</small>
                                                        <h5 class="mr-2 mb-0"></h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- content-wrapper ends -->
                <!-- partial:partials/_footer.html -->
                <footer class="footer">
                    <div class="d-sm-flex justify-content-center justify-content-sm-between">
                        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright Â© 2020 <a
                href="https://www.iyfdelhi.com/" target="_blank">IYF Delhi</a>. All rights reserved.</span>
                        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i
                class="mdi mdi-heart text-danger"></i></span>
                    </div>
                </footer>
                <!-- partial -->
            </div>
            <!-- main-panel ends -->
        </div>
        <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->

    <!-- plugins:js -->
    <script src="../../assets/js/constants.js"></script>
    <script src="../../vendors/base/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <!-- <script src="../../vendors/chart.js/Chart.min.js"></script> -->
    <!-- <script src="../../vendors/datatables.net/jquery.dataTables.js"></script> -->
    <!-- <script src="../../vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script> -->
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="../../assets/js/off-canvas.js"></script>
    <script src="../../assets/js/hoverable-collapse.js"></script>
    <script src="../../assets/js/template.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page-->
    <script src="../../assets/js/dashboard.js"></script>
    <!-- <script src="../../assets/js/data-table.js"></script>
    <script src="../../assets/js/jquery.dataTables.js"></script> -->
    <!-- <script src="../../assets/js/dataTables.bootstrap4.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
    <!-- <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->
    <script src="../../assets/js/jquery-ui.js"></script>
    <script src="../../assets/js/page-access.js"></script>
    <script>
        function getQueryStringValue(key) {
            return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));
        }

        function getStats(area, startDate, endDate) {
            const query = {};
            if (!(!area || area === 'all')) {
                query.areaId = area;
            }
            if (startDate) {
                query.startDate = startDate;
            }
            if (endDate) {
                query.endDate = endDate;
            }
            $.ajax({
                type: "GET",
                url: `${API_BASE_URL}/summary?${$.param(query)}`,
                dataType: 'json',
                cors: true,
                contentType: 'application/json',
                secure: true,
                headers: {
                    'Access-Control-Allow-Origin': '*',
                },
                beforeSend: function(xhr) {
                    xhr.setRequestHeader("access_token", localStorage.getItem('token'));
                },
                success: function(response) {
                    const data = response.data;
                    $('#nonCoastokMemberCount h5').text(data.nonCoastokMemberCount);
                    $('#coastokMemberCount h5').text(data.coastokMemberCount);
                    $('#frontLinerCount h5').text(data.frontLinerCount);
                    $('#facilitatorCount h5').text(data.facilitatorCount);
                    $('#totalQuestionCount h5').text(data.totalQuestionCount);
                    $('#answeredQuestionCount h5').text(data.answeredQuestionCount);
                    $('#unansweredQuestionCount h5').text(data.unansweredQuestionCount);
                    if (query.areaId) {
                        $('#areaLeaderCount').attr('style', 'display: none !important;');
                        $('#assistantDirectorCount').attr('style', 'display: none !important;');
                        $('#areaCount').attr('style', 'display: none !important;');
                    } else {
                        $('#areaLeaderCount h5').attr('style', 'display: flex;').text(data.areaLeaderCount);
                        $('#assistantDirectorCount h5').attr('style', 'display: flex;').text(data.assistantDirectorCount);
                        $('#areaCount h5').attr('style', 'display: flex;').text(data.areaCount);
                    }
                },
                error: function(err) {
                    alert(JSON.stringify(err && err.responseJSON && err.responseJSON.data && err.responseJSON.data[0]));
                },
            });
        }

        $(function() {
            const userProfile = JSON.parse(localStorage.getItem("userProfile"));
            const userRole = getCurrentUserRole();
            const area = getQueryStringValue('area');
            getStats(area);
            if (userRole === 6 || userRole === 7) {
                $.ajax({
                    type: "GET",
                    url: `${API_BASE_URL}/area?per_page=100`,
                    dataType: 'json',
                    cors: true,
                    contentType: 'application/json',
                    secure: true,
                    headers: {
                        'Access-Control-Allow-Origin': '*',
                    },
                    beforeSend: function(xhr) {
                        xhr.setRequestHeader("access_token", localStorage.getItem('token'));
                    },
                    success: function(response) {
                        const data = response.data.data;
                        $.each(data, function(i, item) {
                            $('<option/>')
                                .val(item._id)
                                .text(item.name)
                                .appendTo($('#areaSelect'))
                        });
                        $('#areaSelect').val(data.map(e => e._id).includes(area) ? area : 'all');
                    },
                    error: function(err) {
                        alert(JSON.stringify(err && err.responseJSON && err.responseJSON.data && err.responseJSON.data[0]));
                    },
                });
            } else {
                $('#areaSelect').hide();
            }

            $('#submit-data').click(function() {
                const areaId = $('#areaSelect').val();
                const from = $('#from').val();
                const to = $('#to').val();
                console.log(areaId, from, to);
                getStats(areaId, from, to);
            })

            $('.main-panel input[name="no-date-bound"]').change(function() {
                if (this.checked) {
                    $('#from').val("").attr("disabled", "true");
                    $('#to').val("").attr("disabled", "true");
                } else {
                    $('#from').removeAttr("disabled");
                    $('#to').removeAttr("disabled");
                }
            })

            var dateFormat = "yy-mm-dd",
                from = $("#from")
                .datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1,
                    dateFormat: 'yy-mm-dd'
                })
                .on("change", function() {
                    console.log(to.val());
                    to.datepicker("option", "minDate", getDate(this));
                }),
                to = $("#to").datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1,
                    dateFormat: 'yy-mm-dd'
                })
                .on("change", function() {
                    console.log(from.val());
                    from.datepicker("option", "maxDate", getDate(this));
                });

            function getDate(element) {
                var date;
                try {
                    date = $.datepicker.parseDate(dateFormat, element.value);
                } catch (error) {
                    date = null;
                }

                return date;
            }
        })
    </script>
</body>

</html>